# name: cd-frontend-workflow

# on:
#   workflow_dispatch:
#   push:
#     branches:
#       - main

# jobs:
#   build:

#     runs-on: ubuntu-latest

#     strategy:
#       matrix:
#         node-version: [16.x, 18.x]

#     steps:
#       # Check out the code from the repository.
#       - uses: actions/checkout@v3

#       # Set up a Node.js environment using the specified node version.
#       - uses: actions/setup-node@v3
#         with:
#           node-version: ${{ matrix.node-version }}

#       # Install the dependencies.
#       - run: cd starter/frontend && npm ci

#       # Run the tests.
#       - run: cd starter/frontend && npm test

#       # Run the linter. 
#       - run: cd starter/frontend && npm run lint

#       # Send a console message at completion.
#       - run: |
#           echo "Hello udacity ${{github.actor}}. You pushed to ${{github.repository}} at $(date)."

  
#   deploy:
#     runs-on: ubuntu-latest

#     steps:
#     - name: Checkout repository
#       uses: actions/checkout@v3

#     - name: Set up Docker Buildx
#       uses: docker/setup-buildx-action@v2

#     - name: Login to container registry
#       uses: docker/login-action@v2
#       with:
#         username: ${{ secrets.REGISTRY_USERNAME }}
#         password: ${{ secrets.REGISTRY_PASSWORD }}

#     - name: Build and push Docker image
#       uses: docker/build-push-action@v4
#       with:
#         context: .
#         push: true
#         tags: <your-container-registry>/<your-image>:latest

#     - name: Set up kubectl
#       uses: azure/setup-kubectl@v2
#       with:
#         version: 'latest'

#     - name: Deploy to Kubernetes
#       run: |
#         echo "${{ secrets.KUBECONFIG }}" > kubeconfig.yaml
#         kubectl apply -f deployment.yml --kubeconfig=kubeconfig.yaml